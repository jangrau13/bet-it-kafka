<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0rfpbp0" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.9.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.2.0">
  <bpmn:process id="add_customer1" name="Add Customer" isExecutable="true">
    <bpmn:extensionElements>
      <zeebe:userTaskForm id="userTaskForm_0aelva9">{
  "components": [
    {
      "text": "# Debit Suisse\n## Add Customer",
      "type": "text",
      "id": "Field_0pnrhf6"
    },
    {
      "label": "Customer Name",
      "type": "textfield",
      "id": "Field_120x2xv",
      "key": "customerName",
      "defaultValue": "Your Name",
      "validate": {
        "required": true
      }
    },
    {
      "label": "Amount",
      "type": "number",
      "id": "Field_14sjxco",
      "key": "amount",
      "validate": {
        "required": true
      }
    },
    {
      "action": "submit",
      "label": "Add",
      "type": "button",
      "id": "Field_07n3k19",
      "key": "field_0w9ap7k"
    }
  ],
  "type": "default",
  "id": "add_customer",
  "executionPlatform": "Camunda Cloud",
  "executionPlatformVersion": "8.2.0",
  "exporter": {
    "name": "Camunda Modeler",
    "version": "5.9.0"
  },
  "schemaVersion": 7
}</zeebe:userTaskForm>
    </bpmn:extensionElements>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:extensionElements />
      <bpmn:outgoing>Flow_0idgf78</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_0idgf78" sourceRef="StartEvent_1" targetRef="Activity_0myd72j" />
    <bpmn:userTask id="Activity_0myd72j" name="Add Customer">
      <bpmn:extensionElements>
        <zeebe:formDefinition formKey="camunda-forms:bpmn:userTaskForm_0aelva9" />
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;bet.two-factor-customer&#34;" target="topic" />
          <zeebe:output source="=customerName" target="name" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0idgf78</bpmn:incoming>
      <bpmn:outgoing>Flow_0x6jooj</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0x6jooj" sourceRef="Activity_0myd72j" targetRef="Activity_0bpvip4" />
    <bpmn:endEvent id="Event_1bdb0g0">
      <bpmn:incoming>Flow_0xn1xgr</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1x750hm" sourceRef="Event_1g0mulx" targetRef="Gateway_1uhw8y4" />
    <bpmn:intermediateCatchEvent id="Event_1g0mulx">
      <bpmn:incoming>Flow_0uzdsk2</bpmn:incoming>
      <bpmn:outgoing>Flow_1x750hm</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1s0zcin" messageRef="Message_0vid80v" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0d56wrz" sourceRef="Activity_0bpvip4" targetRef="Activity_12b46ki" />
    <bpmn:serviceTask id="Activity_0bpvip4" name="get UUID">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="uuid-creator" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0x6jooj</bpmn:incoming>
      <bpmn:outgoing>Flow_0d56wrz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0uzdsk2" sourceRef="Activity_12b46ki" targetRef="Event_1g0mulx" />
    <bpmn:serviceTask id="Activity_12b46ki" name="send need for 2-Factor to Kafka">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:taskHeaders />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0d56wrz</bpmn:incoming>
      <bpmn:outgoing>Flow_0uzdsk2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0xn1xgr" sourceRef="Activity_0g4vuu2" targetRef="Event_1bdb0g0" />
    <bpmn:serviceTask id="Activity_0g4vuu2" name="send Success Message to Kafka">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;bet.added-new-customer&#34;" target="topic" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0l9w4pb</bpmn:incoming>
      <bpmn:outgoing>Flow_0xn1xgr</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0l9w4pb" sourceRef="Gateway_1uhw8y4" targetRef="Activity_0g4vuu2" />
    <bpmn:sequenceFlow id="Flow_0kx4axz" sourceRef="Gateway_1uhw8y4" targetRef="Activity_17twy89" />
    <bpmn:parallelGateway id="Gateway_1uhw8y4">
      <bpmn:incoming>Flow_1x750hm</bpmn:incoming>
      <bpmn:outgoing>Flow_0l9w4pb</bpmn:outgoing>
      <bpmn:outgoing>Flow_0kx4axz</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:serviceTask id="Activity_17twy89" name="Start Check Contract via Kafka">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;Check_Contract&#34;" target="messageName" />
          <zeebe:input source="={&#34;bidderName&#34;: name}" target="bid" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0kx4axz</bpmn:incoming>
      <bpmn:outgoing>Flow_0aend41</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_0g9zxfg">
      <bpmn:incoming>Flow_0aend41</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0aend41" sourceRef="Activity_17twy89" targetRef="Event_0g9zxfg" />
  </bpmn:process>
  <bpmn:message id="Message_0vid80v" name="Two_Factor_Success">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="add_customer1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="99" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1acq6a3_di" bpmnElement="Activity_0myd72j">
        <dc:Bounds x="280" y="77" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05gfd2f_di" bpmnElement="Activity_0bpvip4">
        <dc:Bounds x="420" y="77" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1422l1j_di" bpmnElement="Event_1g0mulx">
        <dc:Bounds x="762" y="99" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19jjrui_di" bpmnElement="Activity_12b46ki">
        <dc:Bounds x="610" y="77" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1bdb0g0_di" bpmnElement="Event_1bdb0g0">
        <dc:Bounds x="1072" y="99" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1szdy5m_di" bpmnElement="Activity_0g4vuu2">
        <dc:Bounds x="910" y="77" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1todvu8_di" bpmnElement="Gateway_1uhw8y4">
        <dc:Bounds x="825" y="92" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_011bua7_di" bpmnElement="Activity_17twy89">
        <dc:Bounds x="800" y="220" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0g9zxfg_di" bpmnElement="Event_0g9zxfg">
        <dc:Bounds x="832" y="352" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0idgf78_di" bpmnElement="Flow_0idgf78">
        <di:waypoint x="215" y="117" />
        <di:waypoint x="280" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x6jooj_di" bpmnElement="Flow_0x6jooj">
        <di:waypoint x="380" y="117" />
        <di:waypoint x="420" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0d56wrz_di" bpmnElement="Flow_0d56wrz">
        <di:waypoint x="520" y="117" />
        <di:waypoint x="610" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uzdsk2_di" bpmnElement="Flow_0uzdsk2">
        <di:waypoint x="710" y="117" />
        <di:waypoint x="762" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x750hm_di" bpmnElement="Flow_1x750hm">
        <di:waypoint x="798" y="117" />
        <di:waypoint x="825" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xn1xgr_di" bpmnElement="Flow_0xn1xgr">
        <di:waypoint x="1010" y="117" />
        <di:waypoint x="1072" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l9w4pb_di" bpmnElement="Flow_0l9w4pb">
        <di:waypoint x="875" y="117" />
        <di:waypoint x="910" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kx4axz_di" bpmnElement="Flow_0kx4axz">
        <di:waypoint x="850" y="142" />
        <di:waypoint x="850" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aend41_di" bpmnElement="Flow_0aend41">
        <di:waypoint x="850" y="300" />
        <di:waypoint x="850" y="352" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
