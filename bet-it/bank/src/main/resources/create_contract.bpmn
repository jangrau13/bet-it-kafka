<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0bnwgm1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.9.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.2.0">
  <bpmn:process id="ContractWorkflow" name="Create Contract Workflow" isExecutable="true">
    <bpmn:extensionElements>
      <zeebe:userTaskForm id="userTaskForm_0m0oisf">{
  "components": [
    {
      "text": "# Personal Opinion",
      "type": "text",
      "id": "Field_0muoxnk"
    },
    {
      "label": "Trust User",
      "type": "checkbox",
      "id": "Field_1xvwsha",
      "key": "personalOpinion",
      "description": "do I trust this person"
    }
  ],
  "type": "default",
  "id": "Form_060fya1",
  "executionPlatform": "Camunda Cloud",
  "executionPlatformVersion": "8.1.0",
  "exporter": {
    "name": "Camunda Modeler",
    "version": "5.9.0"
  },
  "schemaVersion": 7
}</zeebe:userTaskForm>
    </bpmn:extensionElements>
    <bpmn:sequenceFlow id="Flow_1sbqat8" sourceRef="Contract_Request_Received" targetRef="UserRiskChecks" />
    <bpmn:startEvent id="Contract_Request_Received" name="Contract Request Received">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;errorUser&#34;" target="user" />
          <zeebe:output source="=&#34;goodGame&#34;" target="gameId" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1sbqat8</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="APIRiskCheckCommand" name="Check risk via API">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://bank:8081/riskmanagement/check?user=&#34; + user" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0xfy9dm</bpmn:incoming>
      <bpmn:outgoing>Flow_1ux6rwa</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="RiskManagementDownEvent" name="Send Risk Management Down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.contract_rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Risk Management not available, we cannot trust anyone&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_06ypld0</bpmn:incoming>
      <bpmn:outgoing>Flow_0d61uu7</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="APIRiskCheckDecision" name="can we trust the user?" default="user_machine_not_trusted">
      <bpmn:incoming>Flow_1ux6rwa</bpmn:incoming>
      <bpmn:outgoing>user_machine_not_trusted</bpmn:outgoing>
      <bpmn:outgoing>user_machine_trusted</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1ux6rwa" sourceRef="APIRiskCheckCommand" targetRef="APIRiskCheckDecision" />
    <bpmn:sendTask id="ContractAcceptedEvent" name="Send Contract Accepted to Kafka">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda&#34;" target="topic" />
          <zeebe:input source="=&#34;CONTRACT_ACCEPTED&#34;" target="messageName" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ck6e5b</bpmn:incoming>
      <bpmn:outgoing>Flow_0ficx4x</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sendTask id="UserNotTrustedEvent" name="We don&#39;t trust you">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.contract_rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Risk Management does not trust you&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>user_machine_not_trusted</bpmn:incoming>
      <bpmn:incoming>user_personally_not_trusted</bpmn:incoming>
      <bpmn:outgoing>Flow_0e22jox</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:endEvent id="FinishedContractChecking" name="Contract Checked">
      <bpmn:incoming>Flow_0e22jox</bpmn:incoming>
      <bpmn:incoming>Flow_0d61uu7</bpmn:incoming>
      <bpmn:incoming>Flow_13q9i2c</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_0lhoyeb" />
    </bpmn:endEvent>
    <bpmn:intermediateCatchEvent id="CommandStyleCheck" name="Command Style, was it really sent?">
      <bpmn:incoming>Flow_0ficx4x</bpmn:incoming>
      <bpmn:outgoing>Flow_13q9i2c</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1qbq8ly" messageRef="Message_3mnkomi" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="correlationHelper1" name="get correlationId">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="uuid-creator" />
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;errorLukas&#34;" target="user" />
          <zeebe:output source="=null" target="body" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_09lnqo5</bpmn:incoming>
      <bpmn:outgoing>Flow_090xsed</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0e22jox" sourceRef="UserNotTrustedEvent" targetRef="FinishedContractChecking" />
    <bpmn:sequenceFlow id="Flow_0d61uu7" sourceRef="RiskManagementDownEvent" targetRef="FinishedContractChecking" />
    <bpmn:sequenceFlow id="Flow_0ficx4x" sourceRef="ContractAcceptedEvent" targetRef="CommandStyleCheck" />
    <bpmn:serviceTask id="GameMangementCheckCommand" name="Call Game Manager">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://game-master:8083/gamemanagement/check?gameId=&#34; + gameId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_090xsed</bpmn:incoming>
      <bpmn:outgoing>Flow_0x8b5c8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="GameManagementDownEvent" name="Send Game Management Down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.contract_rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Game Management not available, until this is back, the game is over. We are sorry&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0eqf3p0</bpmn:incoming>
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="Gateway_0fq6xwm" name="is the game still on?" default="game_already_on_or_over">
      <bpmn:incoming>Flow_0x8b5c8</bpmn:incoming>
      <bpmn:outgoing>game_still_betable</bpmn:outgoing>
      <bpmn:outgoing>game_already_on_or_over</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sendTask id="GameAlreadyOverEvent" name="Game is already over">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.contract_rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Game is already over. We are sorry&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>game_already_on_or_over</bpmn:incoming>
    </bpmn:sendTask>
    <bpmn:boundaryEvent id="GameManagementError" attachedToRef="GameMangementCheckCommand">
      <bpmn:outgoing>Flow_0eqf3p0</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1qvpz68" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0x8b5c8" sourceRef="GameMangementCheckCommand" targetRef="Gateway_0fq6xwm" />
    <bpmn:sequenceFlow id="Flow_0eqf3p0" sourceRef="GameManagementError" targetRef="GameManagementDownEvent" />
    <bpmn:sequenceFlow id="game_still_betable" name="yes" sourceRef="Gateway_0fq6xwm" targetRef="correlationHelper2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=body = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="game_already_on_or_over" name="no" sourceRef="Gateway_0fq6xwm" targetRef="GameAlreadyOverEvent" />
    <bpmn:sequenceFlow id="Flow_090xsed" sourceRef="correlationHelper1" targetRef="GameMangementCheckCommand" />
    <bpmn:sequenceFlow id="Flow_13q9i2c" sourceRef="CommandStyleCheck" targetRef="FinishedContractChecking" />
    <bpmn:boundaryEvent id="Event_0txkzot" attachedToRef="APIRiskCheckCommand">
      <bpmn:outgoing>Flow_06ypld0</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_058dw3n" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_06ypld0" sourceRef="Event_0txkzot" targetRef="RiskManagementDownEvent" />
    <bpmn:serviceTask id="correlationHelper2" name="get correlationId">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="uuid-creator" />
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;errorLukas&#34;" target="user" />
          <zeebe:output source="=null" target="body" />
          <zeebe:output source="=correlationId" target="correlationId" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>game_still_betable</bpmn:incoming>
      <bpmn:outgoing>Flow_0ck6e5b</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0ck6e5b" sourceRef="correlationHelper2" targetRef="ContractAcceptedEvent" />
    <bpmn:userTask id="ManualRiskCheckCommand" name="check risk manually">
      <bpmn:extensionElements>
        <zeebe:formDefinition formKey="camunda-forms:bpmn:userTaskForm_0m0oisf" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1cf3b6n</bpmn:incoming>
      <bpmn:outgoing>Flow_1194gpm</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0xfy9dm" sourceRef="UserRiskChecks" targetRef="APIRiskCheckCommand" />
    <bpmn:sequenceFlow id="Flow_1cf3b6n" sourceRef="UserRiskChecks" targetRef="ManualRiskCheckCommand" />
    <bpmn:parallelGateway id="UserRiskChecks" name="User Risk Checks">
      <bpmn:incoming>Flow_1sbqat8</bpmn:incoming>
      <bpmn:outgoing>Flow_0xfy9dm</bpmn:outgoing>
      <bpmn:outgoing>Flow_1cf3b6n</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_09lnqo5" sourceRef="TwoWayTrustCheck" targetRef="correlationHelper1" />
    <bpmn:sequenceFlow id="user_machine_not_trusted" name="no" sourceRef="APIRiskCheckDecision" targetRef="UserNotTrustedEvent" />
    <bpmn:parallelGateway id="TwoWayTrustCheck" name="Two Way Trust?">
      <bpmn:incoming>user_machine_trusted</bpmn:incoming>
      <bpmn:incoming>user_personally_trusted</bpmn:incoming>
      <bpmn:outgoing>Flow_09lnqo5</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="user_machine_trusted" name="yes" sourceRef="APIRiskCheckDecision" targetRef="TwoWayTrustCheck">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=body = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="user_personally_trusted" name="yes" sourceRef="personalOpinionCheck" targetRef="TwoWayTrustCheck">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=personalOpinion = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="user_personally_not_trusted" name="no" sourceRef="personalOpinionCheck" targetRef="UserNotTrustedEvent">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=personalOpinion = false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="personalOpinionCheck" name="check personal Opinion">
      <bpmn:incoming>Flow_1194gpm</bpmn:incoming>
      <bpmn:outgoing>user_personally_trusted</bpmn:outgoing>
      <bpmn:outgoing>user_personally_not_trusted</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1194gpm" sourceRef="ManualRiskCheckCommand" targetRef="personalOpinionCheck" />
    <bpmn:textAnnotation id="TextAnnotation_1w3mysy">
      <bpmn:text>Zeebe Worker helper</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1ipiqz6" sourceRef="correlationHelper1" targetRef="TextAnnotation_1w3mysy" />
    <bpmn:textAnnotation id="TextAnnotation_0h6irgp">
      <bpmn:text>only for demo pruposes started by Camunda</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1muu116" sourceRef="Contract_Request_Received" targetRef="TextAnnotation_0h6irgp" />
  </bpmn:process>
  <bpmn:message id="Message_209plgo" name="CONTRACT_REQUEST" />
  <bpmn:message id="Message_0ksclf7" name="=CONTRACT_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3u62evr" name="=&#34;CONTRACT_ACCEPTED&#34;">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_11ih5m1" name="=CONTRACT_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3mnkomi" name="CONTRACT_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:error id="Error_0q43gf6" name="no more retries" errorCode="500" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="ContractWorkflow">
      <bpmndi:BPMNShape id="Event_1l4sybz_di" bpmnElement="Contract_Request_Received" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="179" y="439" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="154" y="482" width="87" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ygioq3_di" bpmnElement="APIRiskCheckCommand" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="370" y="417" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19ew5nv_di" bpmnElement="RiskManagementDownEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="640" y="540" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17jnl47_di" bpmnElement="APIRiskCheckDecision" isMarkerVisible="true">
        <dc:Bounds x="575" y="432" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="564" y="489" width="78" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0buj3im_di" bpmnElement="ContractAcceptedEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1150" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0h4s2kw" bpmnElement="UserNotTrustedEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="820" y="417" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00we54k_di" bpmnElement="FinishedContractChecking">
        <dc:Bounds x="1372" y="452" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1348" y="422" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1l71z0j_di" bpmnElement="CommandStyleCheck" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1372" y="292" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1349" y="335" width="87" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05gfd2f_di" bpmnElement="correlationHelper1" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="820" y="300" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_06c5mbf" bpmnElement="GameMangementCheckCommand" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="1020" y="700" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_11kyozu" bpmnElement="GameManagementDownEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1370" y="823" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0paopsw" bpmnElement="Gateway_0fq6xwm" isMarkerVisible="true">
        <dc:Bounds x="1185" y="715" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1175" y="772" width="77" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1uivcd2" bpmnElement="GameAlreadyOverEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1370" y="700" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1t47go9" bpmnElement="correlationHelper2" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="1150" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1vfuky4_di" bpmnElement="ManualRiskCheckCommand" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="370" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0gvuk5c_di" bpmnElement="UserRiskChecks">
        <dc:Bounds x="265" y="432" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="247" y="489" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0epk3eg_di" bpmnElement="TwoWayTrustCheck">
        <dc:Bounds x="758" y="205" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="826" y="220" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0jymchc_di" bpmnElement="personalOpinionCheck" isMarkerVisible="true">
        <dc:Bounds x="575" y="115" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="562" y="78" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1w3mysy_di" bpmnElement="TextAnnotation_1w3mysy">
        <dc:Bounds x="920" y="220" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0h6irgp_di" bpmnElement="TextAnnotation_0h6irgp">
        <dc:Bounds x="147" y="285" width="100" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_06ucooy_di" bpmnElement="Event_0txkzot">
        <dc:Bounds x="402" y="479" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1a5gx91" bpmnElement="GameManagementError">
        <dc:Bounds x="1032" y="762" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1sbqat8_di" bpmnElement="Flow_1sbqat8">
        <di:waypoint x="215" y="457" />
        <di:waypoint x="265" y="457" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ux6rwa_di" bpmnElement="Flow_1ux6rwa">
        <di:waypoint x="470" y="457" />
        <di:waypoint x="575" y="457" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0e22jox_di" bpmnElement="Flow_0e22jox">
        <di:waypoint x="920" y="457" />
        <di:waypoint x="1146" y="457" />
        <di:waypoint x="1146" y="470" />
        <di:waypoint x="1372" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0d61uu7_di" bpmnElement="Flow_0d61uu7">
        <di:waypoint x="740" y="580" />
        <di:waypoint x="1390" y="580" />
        <di:waypoint x="1390" y="488" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ficx4x_di" bpmnElement="Flow_0ficx4x">
        <di:waypoint x="1250" y="320" />
        <di:waypoint x="1299" y="320" />
        <di:waypoint x="1299" y="310" />
        <di:waypoint x="1372" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0asaw6o" bpmnElement="Flow_0x8b5c8">
        <di:waypoint x="1120" y="740" />
        <di:waypoint x="1185" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_18tk8k1" bpmnElement="Flow_0eqf3p0">
        <di:waypoint x="1050" y="798" />
        <di:waypoint x="1050" y="863" />
        <di:waypoint x="1370" y="863" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1efi0dq" bpmnElement="game_still_betable">
        <di:waypoint x="1210" y="715" />
        <di:waypoint x="1210" y="643" />
        <di:waypoint x="1200" y="643" />
        <di:waypoint x="1200" y="570" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1201" y="613" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_017rq7m" bpmnElement="game_already_on_or_over">
        <di:waypoint x="1235" y="740" />
        <di:waypoint x="1370" y="740" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1296" y="722" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_090xsed_di" bpmnElement="Flow_090xsed">
        <di:waypoint x="920" y="340" />
        <di:waypoint x="1000" y="340" />
        <di:waypoint x="1000" y="740" />
        <di:waypoint x="1020" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13q9i2c_di" bpmnElement="Flow_13q9i2c">
        <di:waypoint x="1408" y="310" />
        <di:waypoint x="1470" y="310" />
        <di:waypoint x="1470" y="470" />
        <di:waypoint x="1408" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06ypld0_di" bpmnElement="Flow_06ypld0">
        <di:waypoint x="420" y="515" />
        <di:waypoint x="420" y="580" />
        <di:waypoint x="640" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ck6e5b_di" bpmnElement="Flow_0ck6e5b">
        <di:waypoint x="1200" y="490" />
        <di:waypoint x="1200" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xfy9dm_di" bpmnElement="Flow_0xfy9dm">
        <di:waypoint x="315" y="457" />
        <di:waypoint x="370" y="457" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cf3b6n_di" bpmnElement="Flow_1cf3b6n">
        <di:waypoint x="290" y="432" />
        <di:waypoint x="290" y="320" />
        <di:waypoint x="370" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09lnqo5_di" bpmnElement="Flow_09lnqo5">
        <di:waypoint x="783" y="255" />
        <di:waypoint x="783" y="340" />
        <di:waypoint x="820" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wbek15_di" bpmnElement="user_machine_not_trusted">
        <di:waypoint x="625" y="457" />
        <di:waypoint x="820" y="457" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="716" y="439" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x1yxxg_di" bpmnElement="user_machine_trusted">
        <di:waypoint x="600" y="432" />
        <di:waypoint x="600" y="230" />
        <di:waypoint x="758" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="607" y="328" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b7jcpp_di" bpmnElement="user_personally_trusted">
        <di:waypoint x="605" y="120" />
        <di:waypoint x="783" y="120" />
        <di:waypoint x="783" y="205" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="686" y="102" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m0kd7z_di" bpmnElement="user_personally_not_trusted">
        <di:waypoint x="625" y="140" />
        <di:waypoint x="690" y="140" />
        <di:waypoint x="690" y="430" />
        <di:waypoint x="820" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="699" y="287" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1194gpm_di" bpmnElement="Flow_1194gpm">
        <di:waypoint x="470" y="320" />
        <di:waypoint x="520" y="320" />
        <di:waypoint x="520" y="140" />
        <di:waypoint x="575" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1ipiqz6_di" bpmnElement="Association_1ipiqz6">
        <di:waypoint x="908" y="300" />
        <di:waypoint x="945" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1muu116_di" bpmnElement="Association_1muu116">
        <di:waypoint x="197" y="439" />
        <di:waypoint x="197" y="355" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
