<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0bnwgm1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.9.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.2.0">
  <bpmn:process id="Bet_Workflow" name="Create Bet Workflow" isExecutable="true">
    <bpmn:sendTask id="BetAcceptedEvent" name="Send Bet Accepted">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.bet.accepted&#34;" target="topic" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1gm3fu8</bpmn:incoming>
      <bpmn:outgoing>Flow_0ficx4x</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:intermediateCatchEvent id="Bet_Resolver_Issuer" name="Resolve Bet">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="=null" target="url" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ficx4x</bpmn:incoming>
      <bpmn:outgoing>Flow_15wglvo</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1qbq8ly" messageRef="Message_0pecr2i" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0ficx4x" sourceRef="BetAcceptedEvent" targetRef="Bet_Resolver_Issuer" />
    <bpmn:serviceTask id="Activity_0xj210d" name="Call Game Manager">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://game-master:8083/gamemanagement/check?gameId=&#34; + gameId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0wkbo6h</bpmn:incoming>
      <bpmn:outgoing>Flow_0das46r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="Activity_19fnxqb" name="Send Game Management Down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.bet.rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Game Management not available, until this is back, the game is over. We are sorry&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1gkytus</bpmn:incoming>
      <bpmn:outgoing>Flow_12q4n11</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="Gateway_0fq6xwm" name="is the game still on?" default="Flow_0vgpa9h">
      <bpmn:incoming>Flow_0das46r</bpmn:incoming>
      <bpmn:outgoing>Flow_15pkcoc</bpmn:outgoing>
      <bpmn:outgoing>Flow_0vgpa9h</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sendTask id="GameAlreadyOverEvent" name="Game is already over">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.bet.rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Game is already over. We are sorry&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1d3rrpd</bpmn:incoming>
      <bpmn:outgoing>Flow_148i89v</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_15pkcoc" name="yes" sourceRef="Gateway_0fq6xwm" targetRef="Activity_1a8aj74">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=body = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0vgpa9h" name="no" sourceRef="Gateway_0fq6xwm" targetRef="parallel_gateway2" />
    <bpmn:sequenceFlow id="Flow_0ciu4mc" sourceRef="Bet_Request_Received" targetRef="sending_freeze" />
    <bpmn:sequenceFlow id="freeze_bad" name="freeze did not work" sourceRef="check_freeze" targetRef="Activity_1bwi5n5" />
    <bpmn:sendTask id="freeze_rejected_event" name="Freeze failed">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;bank.freeze_rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Get more money my friends&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0cns46h</bpmn:incoming>
      <bpmn:outgoing>Flow_17xrqzh</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_1d3rrpd" sourceRef="parallel_gateway2" targetRef="GameAlreadyOverEvent" />
    <bpmn:parallelGateway id="parallel_gateway2">
      <bpmn:incoming>Flow_0vgpa9h</bpmn:incoming>
      <bpmn:outgoing>Flow_1d3rrpd</bpmn:outgoing>
      <bpmn:outgoing>Flow_0xfxa9i</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:boundaryEvent id="Event_0txkzot" attachedToRef="Activity_0xj210d">
      <bpmn:outgoing>Flow_1gkytus</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1qw0c4x" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1gkytus" sourceRef="Event_0txkzot" targetRef="Activity_19fnxqb" />
    <bpmn:sequenceFlow id="Flow_0cns46h" sourceRef="parallel_gateway" targetRef="freeze_rejected_event" />
    <bpmn:parallelGateway id="parallel_gateway">
      <bpmn:incoming>Flow_1g4wbou</bpmn:incoming>
      <bpmn:outgoing>Flow_0cns46h</bpmn:outgoing>
      <bpmn:outgoing>Flow_1rq87d3</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sendTask id="bet_rejected_event" name="Bet Rejected">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.bet.rejected&#34;" target="topic" />
          <zeebe:input source="=&#34;Get more money my friends&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1rq87d3</bpmn:incoming>
      <bpmn:outgoing>Flow_1m5edfo</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_1rq87d3" sourceRef="parallel_gateway" targetRef="bet_rejected_event" />
    <bpmn:serviceTask id="BankPayCommand" name="Call Bank to Pay">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://bank:8081/bank/payment?from=&#34; + contractorName + &#34;&#38;to=&#34; + bidderName + &#34;&#38;amount=&#34; + amount + &#34;&#38;betId=&#34; + betId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_15wglvo</bpmn:incoming>
      <bpmn:outgoing>Flow_1u1kvfb</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="BankIsDownEvent" name="Bank is down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.payment.bank-down&#34;" target="topic" />
          <zeebe:input source="=&#34;bank is down&#34;" target="reason" />
          <zeebe:input source="=&#34;PAYMENT_DONE&#34;" target="messageName" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0tuutan</bpmn:incoming>
      <bpmn:outgoing>Flow_0a7bp7z</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:boundaryEvent id="Event_08tp5rr" attachedToRef="BankPayCommand">
      <bpmn:outgoing>Flow_0tuutan</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0yo8jvg" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:intermediateCatchEvent id="PaymentFinallyDoneReceived" name="Payment finally done">
      <bpmn:incoming>Flow_0a7bp7z</bpmn:incoming>
      <bpmn:outgoing>Flow_06domme</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_11ag1ct" messageRef="Message_10lopma" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0a7bp7z" sourceRef="BankIsDownEvent" targetRef="PaymentFinallyDoneReceived" />
    <bpmn:sequenceFlow id="Flow_1u1kvfb" sourceRef="BankPayCommand" targetRef="Gateway_0jhgtsp" />
    <bpmn:eventBasedGateway id="Gateway_0jhgtsp" name="maybe we can detect fraud?">
      <bpmn:incoming>Flow_1u1kvfb</bpmn:incoming>
      <bpmn:incoming>Flow_06domme</bpmn:incoming>
      <bpmn:outgoing>Flow_1fesc6i</bpmn:outgoing>
      <bpmn:outgoing>Flow_02i69ef</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:intermediateCatchEvent id="Event_1pnpr9s">
      <bpmn:incoming>Flow_02i69ef</bpmn:incoming>
      <bpmn:outgoing>Flow_02f22xd</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1p5s2l3" messageRef="Message_3714ejd" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="Event_06elfpv" name="No fraud detected">
      <bpmn:incoming>Flow_1fesc6i</bpmn:incoming>
      <bpmn:outgoing>Flow_0v4sya8</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_10887fb">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT5M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="CompensatePaymentCommand" name="Compensate Payment">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://bank:8081/bank/paymentReverse?from=&#34; + contractorName + &#34;&#38;to=&#34; + bidderName + &#34;&#38;amount=&#34; + amount + &#34;&#38;betId=&#34; + betId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=bpmnError(&#34;500&#34;, &#34;no more retries&#34;)" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_02f22xd</bpmn:incoming>
      <bpmn:outgoing>Flow_1i3t6hl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_1ksrorr" attachedToRef="CompensatePaymentCommand">
      <bpmn:outgoing>Flow_05f1vq3</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_11j8gjd" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_02f22xd" sourceRef="Event_1pnpr9s" targetRef="CompensatePaymentCommand" />
    <bpmn:sequenceFlow id="Flow_06domme" sourceRef="PaymentFinallyDoneReceived" targetRef="Gateway_0jhgtsp" />
    <bpmn:sequenceFlow id="Flow_05f1vq3" sourceRef="Event_1ksrorr" targetRef="HumanCompensationEvent2" />
    <bpmn:serviceTask id="sending_freeze" name="Send Freeze Request to Bank">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://bank:8081/bank/freeze?from=&#34; + contractorName + &#34;&#38;to=&#34; + bidderName + &#34;&#38;amountTo=&#34; + amountBidder + &#34;&#38;amountFrom=&#34; + amountContractor + &#34;&#38;betId=&#34; + betId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ciu4mc</bpmn:incoming>
      <bpmn:outgoing>Flow_0tmwb8i</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_0zozjok" attachedToRef="sending_freeze">
      <bpmn:outgoing>Flow_0pdxx3c</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0lwoefn" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0tmwb8i" sourceRef="sending_freeze" targetRef="check_freeze" />
    <bpmn:sendTask id="Activity_18esgm6" name="Send Bank Down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;bet.rejected.camunda&#34;" target="topic" />
          <zeebe:input source="=&#34;Bank is not available, until this is back, the game is over. We are sorry&#34;" target="reason" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0pdxx3c</bpmn:incoming>
      <bpmn:outgoing>Flow_02s5vmj</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_0pdxx3c" sourceRef="Event_0zozjok" targetRef="Activity_18esgm6" />
    <bpmn:exclusiveGateway id="check_freeze" name="Freeze worked?" default="freeze_bad">
      <bpmn:incoming>Flow_0tmwb8i</bpmn:incoming>
      <bpmn:outgoing>freeze_bad</bpmn:outgoing>
      <bpmn:outgoing>freeze_good</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="freeze_good" name="freeze worked" sourceRef="check_freeze" targetRef="removeBody">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=body = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_15wglvo" sourceRef="Bet_Resolver_Issuer" targetRef="BankPayCommand" />
    <bpmn:serviceTask id="send_unfreeze_command" name="Send Unfreeze">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;http://bank:8081/bank/unfreeze?from=&#34; + contractorName + &#34;&#38;to=&#34; + bidderName + &#34;&#38;amountTo=&#34; + amountBidder + &#34;&#38;amountFrom=&#34; + amountContractor + &#34;&#38;betId=&#34; + betId" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="test" />
          <zeebe:header key="resultExpression" value="=response" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;500&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else if error.code = &#34;404&#34; then bpmnError(&#34;500&#34;, &#34;no more retries&#34;) else null" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1na23vs</bpmn:incoming>
      <bpmn:outgoing>Flow_0m9xz1r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0xfxa9i" sourceRef="parallel_gateway2" targetRef="Activity_0hsqlsz" />
    <bpmn:boundaryEvent id="Event_18xuosy" attachedToRef="send_unfreeze_command">
      <bpmn:outgoing>Flow_16wi3eb</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0gp5x6r" errorRef="Error_0q43gf6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_16wi3eb" sourceRef="Event_18xuosy" targetRef="HumanCompensationEvent1" />
    <bpmn:userTask id="HumanCompensationEvent1" name="Compensate by a Human">
      <bpmn:incoming>Flow_16wi3eb</bpmn:incoming>
      <bpmn:outgoing>Flow_09uhec8</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="HumanCompensationEvent2" name="Compensate by a Human">
      <bpmn:extensionElements />
      <bpmn:incoming>Flow_05f1vq3</bpmn:incoming>
      <bpmn:outgoing>Flow_1gvfsy0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_02s5vmj" sourceRef="Activity_18esgm6" targetRef="BankDownFinish" />
    <bpmn:startEvent id="Bet_Request_Received" name="Bet Request Received">
      <bpmn:extensionElements />
      <bpmn:outgoing>Flow_0ciu4mc</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1fjea9j" messageRef="Message_0e2rdub" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_0wkbo6h" sourceRef="removeBody" targetRef="Activity_0xj210d" />
    <bpmn:scriptTask id="removeBody" name="remove body">
      <bpmn:extensionElements>
        <zeebe:script expression="=null" resultVariable="body" />
        <zeebe:ioMapping>
          <zeebe:output source="=null" target="body" />
          <zeebe:output source="=null" target="messageName" />
          <zeebe:output source="=null" target="topic" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>freeze_good</bpmn:incoming>
      <bpmn:outgoing>Flow_0wkbo6h</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Activity_0hsqlsz" name="remove body">
      <bpmn:extensionElements>
        <zeebe:script expression="=null" resultVariable="body" />
        <zeebe:ioMapping>
          <zeebe:output source="=null" target="body" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0xfxa9i</bpmn:incoming>
      <bpmn:outgoing>Flow_1na23vs</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1na23vs" sourceRef="Activity_0hsqlsz" targetRef="send_unfreeze_command" />
    <bpmn:scriptTask id="Activity_1bwi5n5" name="remove body">
      <bpmn:extensionElements>
        <zeebe:script expression="=null" resultVariable="body" />
        <zeebe:ioMapping>
          <zeebe:output source="=null" target="body" />
          <zeebe:output source="=null" target="messageName" />
          <zeebe:output source="=null" target="topic" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>freeze_bad</bpmn:incoming>
      <bpmn:outgoing>Flow_1g4wbou</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1g4wbou" sourceRef="Activity_1bwi5n5" targetRef="parallel_gateway" />
    <bpmn:scriptTask id="Activity_1a8aj74" name="remove body">
      <bpmn:extensionElements>
        <zeebe:script expression="=null" resultVariable="body" />
        <zeebe:ioMapping>
          <zeebe:output source="=null" target="body" />
          <zeebe:output source="=null" target="messageName" />
          <zeebe:output source="=null" target="topic" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_15pkcoc</bpmn:incoming>
      <bpmn:outgoing>Flow_1gm3fu8</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_12q4n11" sourceRef="Activity_19fnxqb" targetRef="RiskManagementDownFinish" />
    <bpmn:sequenceFlow id="Flow_1gm3fu8" sourceRef="Activity_1a8aj74" targetRef="BetAcceptedEvent" />
    <bpmn:sequenceFlow id="Flow_0das46r" sourceRef="Activity_0xj210d" targetRef="Gateway_0fq6xwm" />
    <bpmn:sequenceFlow id="Flow_0tuutan" sourceRef="Event_08tp5rr" targetRef="BankIsDownEvent" />
    <bpmn:sequenceFlow id="Flow_1fesc6i" sourceRef="Gateway_0jhgtsp" targetRef="Event_06elfpv" />
    <bpmn:sequenceFlow id="Flow_02i69ef" sourceRef="Gateway_0jhgtsp" targetRef="Event_1pnpr9s" />
    <bpmn:sendTask id="Activity_0v2bmey" name="Bank is down">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="send-to-kafka" />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;camunda.payment.bank-down&#34;" target="topic" />
          <zeebe:input source="=&#34;bank is down&#34;" target="reason" />
          <zeebe:input source="=&#34;PAYMENT_DONE&#34;" target="messageName" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0v4sya8</bpmn:incoming>
      <bpmn:outgoing>Flow_0oxvqok</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_0v4sya8" sourceRef="Event_06elfpv" targetRef="Activity_0v2bmey" />
    <bpmn:endEvent id="Event_0z56rna">
      <bpmn:incoming>Flow_1i3t6hl</bpmn:incoming>
      <bpmn:incoming>Flow_1gvfsy0</bpmn:incoming>
      <bpmn:incoming>Flow_0oxvqok</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1ssra39" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1i3t6hl" sourceRef="CompensatePaymentCommand" targetRef="Event_0z56rna" />
    <bpmn:sequenceFlow id="Flow_1gvfsy0" sourceRef="HumanCompensationEvent2" targetRef="Event_0z56rna" />
    <bpmn:sequenceFlow id="Flow_0oxvqok" sourceRef="Activity_0v2bmey" targetRef="Event_0z56rna" />
    <bpmn:endEvent id="BankDownFinish">
      <bpmn:incoming>Flow_02s5vmj</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_08199pl" />
    </bpmn:endEvent>
    <bpmn:endEvent id="RiskManagementDownFinish">
      <bpmn:incoming>Flow_12q4n11</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1lrbpbc" />
    </bpmn:endEvent>
    <bpmn:parallelGateway id="Gateway_1gsm26k">
      <bpmn:incoming>Flow_1m5edfo</bpmn:incoming>
      <bpmn:incoming>Flow_17xrqzh</bpmn:incoming>
      <bpmn:outgoing>Flow_077b2uj</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_1m5edfo" sourceRef="bet_rejected_event" targetRef="Gateway_1gsm26k" />
    <bpmn:sequenceFlow id="Flow_17xrqzh" sourceRef="freeze_rejected_event" targetRef="Gateway_1gsm26k" />
    <bpmn:sequenceFlow id="Flow_077b2uj" sourceRef="Gateway_1gsm26k" targetRef="Event_0f3xcel" />
    <bpmn:endEvent id="Event_0f3xcel">
      <bpmn:incoming>Flow_077b2uj</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_0rg55fl" />
    </bpmn:endEvent>
    <bpmn:parallelGateway id="Gateway_0ei92j5">
      <bpmn:incoming>Flow_148i89v</bpmn:incoming>
      <bpmn:incoming>Flow_1jw66ec</bpmn:incoming>
      <bpmn:outgoing>Flow_135tcqa</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_148i89v" sourceRef="GameAlreadyOverEvent" targetRef="Gateway_0ei92j5" />
    <bpmn:exclusiveGateway id="Gateway_0ub3tgf">
      <bpmn:incoming>Flow_09uhec8</bpmn:incoming>
      <bpmn:incoming>Flow_0m9xz1r</bpmn:incoming>
      <bpmn:outgoing>Flow_1jw66ec</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_09uhec8" sourceRef="HumanCompensationEvent1" targetRef="Gateway_0ub3tgf" />
    <bpmn:sequenceFlow id="Flow_0m9xz1r" sourceRef="send_unfreeze_command" targetRef="Gateway_0ub3tgf" />
    <bpmn:sequenceFlow id="Flow_1jw66ec" sourceRef="Gateway_0ub3tgf" targetRef="Gateway_0ei92j5" />
    <bpmn:sequenceFlow id="Flow_135tcqa" sourceRef="Gateway_0ei92j5" targetRef="Event_1rrlod8" />
    <bpmn:endEvent id="Event_1rrlod8">
      <bpmn:incoming>Flow_135tcqa</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_04xs03b" />
    </bpmn:endEvent>
    <bpmn:textAnnotation id="TextAnnotation_09mm8hr">
      <bpmn:text>in order to compensate</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_026b7vu">
      <bpmn:text>if bank is down, send it to kafka to retry it when bank is up again</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_16sdulq" sourceRef="BankIsDownEvent" targetRef="TextAnnotation_026b7vu" />
    <bpmn:association id="Association_14a4tm4" sourceRef="TextAnnotation_09mm8hr" targetRef="HumanCompensationEvent1" />
  </bpmn:process>
  <bpmn:message id="Message_209plgo" name="CONTRACT_REQUEST" />
  <bpmn:message id="Message_0ksclf7" name="=CONTRACT_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3u62evr" name="=&#34;CONTRACT_ACCEPTED&#34;">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_11ih5m1" name="=CONTRACT_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3mnkomi" name="FREEZE_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:error id="Error_0q43gf6" name="no more retries" errorCode="500" />
  <bpmn:message id="Message_0t28gf2" name="REVERSE_PAYMENT_DONE">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3714ejd" name="FRAUD_DETECTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=betId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_1spad5g" name="FREEZE_ACCEPTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3k8joc8" name="FREEZE_REJECTED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_0pecr2i" name="GAME_ENDED">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=betId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_03an8ik" name="REVERSE_PAYMENT_DONE">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_10lopma" name="PAYMENT_DONE">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=betId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_0e2rdub" name="BET_REQUEST" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Bet_Workflow">
      <bpmndi:BPMNShape id="TextAnnotation_026b7vu_di" bpmnElement="TextAnnotation_026b7vu">
        <dc:Bounds x="2140" y="110" width="100" height="85" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_09mm8hr_di" bpmnElement="TextAnnotation_09mm8hr">
        <dc:Bounds x="1890" y="1080" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0yv96lj_di" bpmnElement="Bet_Request_Received" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="172" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="160" y="575" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0a49bj0" bpmnElement="sending_freeze" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="330" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1ewalga" bpmnElement="Activity_18esgm6" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="330" y="730" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0udqy6s_di" bpmnElement="check_freeze" isMarkerVisible="true">
        <dc:Bounds x="565" y="525" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="630" y="537" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_11shbtb" bpmnElement="Activity_1bwi5n5" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="690" y="350" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0h7hjr3_di" bpmnElement="removeBody" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="690" y="650" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1vhzvoj" bpmnElement="freeze_rejected_event" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1030" y="270" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0dd568u" bpmnElement="bet_rejected_event" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1030" y="430" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1t7vbo7_di" bpmnElement="parallel_gateway">
        <dc:Bounds x="915" y="365" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_06c5mbf" bpmnElement="Activity_0xj210d" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="1020" y="650" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_11kyozu" bpmnElement="Activity_19fnxqb" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1020" y="840" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0paopsw" bpmnElement="Gateway_0fq6xwm" isMarkerVisible="true">
        <dc:Bounds x="1495" y="665" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1554.5" y="676.5" width="77" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ken77s_di" bpmnElement="parallel_gateway2">
        <dc:Bounds x="1635" y="825" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13j749k" bpmnElement="Activity_0hsqlsz" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="1760" y="930" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0bi9sxa" bpmnElement="send_unfreeze_command" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="2020" y="930" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1gpwspz_di" bpmnElement="HumanCompensationEvent1" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="2020" y="1130" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0oij0hw" bpmnElement="Activity_1a8aj74" bioc:stroke="#5b176d" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#5b176d">
        <dc:Bounds x="1630" y="420" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0buj3im_di" bpmnElement="BetAcceptedEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1879" y="420" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1l71z0j_di" bpmnElement="Bet_Resolver_Issuer" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="2092" y="442" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2083" y="485" width="61" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1gvgk9i" bpmnElement="BankPayCommand" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="2260" y="420" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1avnbfa" bpmnElement="PaymentFinallyDoneReceived" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="2500" y="82" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2483" y="125" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0ld5nb8" bpmnElement="BankIsDownEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="2311" y="190" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1b8lzxy_di" bpmnElement="Gateway_0jhgtsp">
        <dc:Bounds x="2645" y="435" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2634.5" y="494.5" width="71" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_06elfpv_di" bpmnElement="Event_06elfpv" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="2912" y="282" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2888" y="325" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1pnpr9s_di" bpmnElement="Event_1pnpr9s" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="2932" y="603" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_15hmmpq" bpmnElement="CompensatePaymentCommand" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="3240" y="581" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15aa4as_di" bpmnElement="HumanCompensationEvent2" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="3250" y="770" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0r07x50" bpmnElement="Activity_0v2bmey" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="3200" y="260" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02padd4_di" bpmnElement="Event_0z56rna">
        <dc:Bounds x="3882" y="422" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1h31uqd_di" bpmnElement="BankDownFinish">
        <dc:Bounds x="362" y="1072" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_11luojf_di" bpmnElement="RiskManagementDownFinish">
        <dc:Bounds x="1052" y="1083" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lx6ekl_di" bpmnElement="Gateway_1gsm26k">
        <dc:Bounds x="1175" y="365" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_12rpzmu_di" bpmnElement="Event_0f3xcel">
        <dc:Bounds x="1272" y="372" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ub3tgf_di" bpmnElement="Gateway_0ub3tgf" isMarkerVisible="true">
        <dc:Bounds x="2305" y="1045" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0pbe10j_di" bpmnElement="Gateway_0ei92j5">
        <dc:Bounds x="2505" y="815" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1hx30ek_di" bpmnElement="Event_1rrlod8">
        <dc:Bounds x="2712" y="822" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1uivcd2" bpmnElement="GameAlreadyOverEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="1750" y="690" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_16sdulq_di" bpmnElement="Association_16sdulq">
        <di:waypoint x="2311" y="209" />
        <di:waypoint x="2240" y="179" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_14a4tm4_di" bpmnElement="Association_14a4tm4">
        <di:waypoint x="1967" y="1121" />
        <di:waypoint x="2020" y="1159" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_10ufcb5" bpmnElement="Event_0zozjok">
        <dc:Bounds x="362" y="572" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0sfget7" bpmnElement="Event_0txkzot">
        <dc:Bounds x="1052" y="712" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1m8uqzr" bpmnElement="Event_18xuosy">
        <dc:Bounds x="2052" y="992" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0p8g1sg" bpmnElement="Event_08tp5rr">
        <dc:Bounds x="2342" y="402" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0393rke" bpmnElement="Event_1ksrorr">
        <dc:Bounds x="3272" y="643" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1d3rrpd_di" bpmnElement="Flow_1d3rrpd">
        <di:waypoint x="1660" y="825" />
        <di:waypoint x="1660" y="730" />
        <di:waypoint x="1750" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ciu4mc_di" bpmnElement="Flow_0ciu4mc">
        <di:waypoint x="208" y="550" />
        <di:waypoint x="330" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tmwb8i_di" bpmnElement="Flow_0tmwb8i">
        <di:waypoint x="430" y="550" />
        <di:waypoint x="565" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0pdxx3c_di" bpmnElement="Flow_0pdxx3c">
        <di:waypoint x="380" y="608" />
        <di:waypoint x="380" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02s5vmj_di" bpmnElement="Flow_02s5vmj">
        <di:waypoint x="380" y="810" />
        <di:waypoint x="380" y="1072" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1de831e_di" bpmnElement="freeze_bad">
        <di:waypoint x="590" y="525" />
        <di:waypoint x="590" y="390" />
        <di:waypoint x="690" y="390" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="596" y="358" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11b8dep_di" bpmnElement="freeze_good">
        <di:waypoint x="590" y="575" />
        <di:waypoint x="590" y="690" />
        <di:waypoint x="690" y="690" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="595" y="703" width="69" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1g4wbou_di" bpmnElement="Flow_1g4wbou">
        <di:waypoint x="790" y="390" />
        <di:waypoint x="915" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wkbo6h_di" bpmnElement="Flow_0wkbo6h">
        <di:waypoint x="790" y="690" />
        <di:waypoint x="1020" y="690" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cns46h_di" bpmnElement="Flow_0cns46h">
        <di:waypoint x="940" y="365" />
        <di:waypoint x="940" y="310" />
        <di:waypoint x="1030" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rq87d3_di" bpmnElement="Flow_1rq87d3">
        <di:waypoint x="940" y="415" />
        <di:waypoint x="940" y="470" />
        <di:waypoint x="1030" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0das46r_di" bpmnElement="Flow_0das46r">
        <di:waypoint x="1120" y="690" />
        <di:waypoint x="1495" y="690" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gkytus_di" bpmnElement="Flow_1gkytus">
        <di:waypoint x="1070" y="748" />
        <di:waypoint x="1070" y="840" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12q4n11_di" bpmnElement="Flow_12q4n11">
        <di:waypoint x="1070" y="920" />
        <di:waypoint x="1070" y="1083" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1efi0dq" bpmnElement="Flow_15pkcoc">
        <di:waypoint x="1520" y="665" />
        <di:waypoint x="1520" y="460" />
        <di:waypoint x="1630" y="460" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1568" y="438" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_017rq7m" bpmnElement="Flow_0vgpa9h">
        <di:waypoint x="1520" y="715" />
        <di:waypoint x="1520" y="850" />
        <di:waypoint x="1635" y="850" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1525" y="799" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xfxa9i_di" bpmnElement="Flow_0xfxa9i">
        <di:waypoint x="1660" y="875" />
        <di:waypoint x="1660" y="970" />
        <di:waypoint x="1760" y="970" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1na23vs_di" bpmnElement="Flow_1na23vs">
        <di:waypoint x="1860" y="970" />
        <di:waypoint x="2020" y="970" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16wi3eb_di" bpmnElement="Flow_16wi3eb">
        <di:waypoint x="2070" y="1028" />
        <di:waypoint x="2070" y="1130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gm3fu8_di" bpmnElement="Flow_1gm3fu8">
        <di:waypoint x="1730" y="460" />
        <di:waypoint x="1879" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ficx4x_di" bpmnElement="Flow_0ficx4x">
        <di:waypoint x="1979" y="460" />
        <di:waypoint x="2092" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15wglvo_di" bpmnElement="Flow_15wglvo">
        <di:waypoint x="2128" y="460" />
        <di:waypoint x="2260" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u1kvfb_di" bpmnElement="Flow_1u1kvfb">
        <di:waypoint x="2360" y="460" />
        <di:waypoint x="2645" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a7bp7z_di" bpmnElement="Flow_0a7bp7z">
        <di:waypoint x="2361" y="190" />
        <di:waypoint x="2361" y="100" />
        <di:waypoint x="2500" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06domme_di" bpmnElement="Flow_06domme">
        <di:waypoint x="2536" y="100" />
        <di:waypoint x="2670" y="100" />
        <di:waypoint x="2670" y="435" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tuutan_di" bpmnElement="Flow_0tuutan">
        <di:waypoint x="2360" y="402" />
        <di:waypoint x="2360" y="336" />
        <di:waypoint x="2361" y="336" />
        <di:waypoint x="2361" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fesc6i_di" bpmnElement="Flow_1fesc6i">
        <di:waypoint x="2695" y="460" />
        <di:waypoint x="2820" y="460" />
        <di:waypoint x="2820" y="300" />
        <di:waypoint x="2912" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02i69ef_di" bpmnElement="Flow_02i69ef">
        <di:waypoint x="2695" y="460" />
        <di:waypoint x="2820" y="460" />
        <di:waypoint x="2820" y="621" />
        <di:waypoint x="2932" y="621" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0v4sya8_di" bpmnElement="Flow_0v4sya8">
        <di:waypoint x="2948" y="300" />
        <di:waypoint x="3200" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02f22xd_di" bpmnElement="Flow_02f22xd">
        <di:waypoint x="2968" y="621" />
        <di:waypoint x="3240" y="621" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i3t6hl_di" bpmnElement="Flow_1i3t6hl">
        <di:waypoint x="3340" y="621" />
        <di:waypoint x="3611" y="621" />
        <di:waypoint x="3611" y="440" />
        <di:waypoint x="3882" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05f1vq3_di" bpmnElement="Flow_05f1vq3">
        <di:waypoint x="3290" y="679" />
        <di:waypoint x="3290" y="770" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gvfsy0_di" bpmnElement="Flow_1gvfsy0">
        <di:waypoint x="3350" y="810" />
        <di:waypoint x="3900" y="810" />
        <di:waypoint x="3900" y="458" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0oxvqok_di" bpmnElement="Flow_0oxvqok">
        <di:waypoint x="3300" y="300" />
        <di:waypoint x="3900" y="300" />
        <di:waypoint x="3900" y="422" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m5edfo_di" bpmnElement="Flow_1m5edfo">
        <di:waypoint x="1130" y="470" />
        <di:waypoint x="1200" y="470" />
        <di:waypoint x="1200" y="415" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17xrqzh_di" bpmnElement="Flow_17xrqzh">
        <di:waypoint x="1130" y="310" />
        <di:waypoint x="1200" y="310" />
        <di:waypoint x="1200" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_077b2uj_di" bpmnElement="Flow_077b2uj">
        <di:waypoint x="1225" y="390" />
        <di:waypoint x="1272" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_148i89v_di" bpmnElement="Flow_148i89v">
        <di:waypoint x="1850" y="730" />
        <di:waypoint x="2530" y="730" />
        <di:waypoint x="2530" y="815" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09uhec8_di" bpmnElement="Flow_09uhec8">
        <di:waypoint x="2120" y="1170" />
        <di:waypoint x="2330" y="1170" />
        <di:waypoint x="2330" y="1095" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m9xz1r_di" bpmnElement="Flow_0m9xz1r">
        <di:waypoint x="2120" y="970" />
        <di:waypoint x="2330" y="970" />
        <di:waypoint x="2330" y="1045" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jw66ec_di" bpmnElement="Flow_1jw66ec">
        <di:waypoint x="2355" y="1070" />
        <di:waypoint x="2530" y="1070" />
        <di:waypoint x="2530" y="865" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_135tcqa_di" bpmnElement="Flow_135tcqa">
        <di:waypoint x="2555" y="840" />
        <di:waypoint x="2712" y="840" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
